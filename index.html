<!DOCTYPE html>
<html>

<head>
  <title>Movie Filter</title>
</head>

<body>
  <button id='randomise'>random choice</button>
  <label for="genre">Genre:</label>
  <select id="genre">
    <option value="">All Genres</option>
    <option value="action">Action</option>
    <option value="drama">Drama</option>
    <option value="comedy">Comedy</option>
    <option value="science fiction">Science Fiction</option>
  </select>
  <label for="year">Year:</label>
  <select id="year">
    <option value="">All Decades</option>
    <option value="1970's">1970's</option>
    <option value="1980's">1980's</option>
    <option value="1990's">1990's</option>
    <option value="2000's">2000's</option>
    <option value="2010's">2010's</option>
  </select>
  <label for="language">Language:</label>
  <select id="language">
    <option value="">All Languages</option>
    <option value="english">English</option>
    <option value="spanish">Spanish</option>
    <option value="french">French</option>
    <option value="japanese">Japanese</option>
  </select>
  <label for="orderOption">Sort by:</label>
  <select id="orderOption">
    <option value="default">Randomise</option>
    <option value="azTitle">A-Z by film title</option>
    <option value="azDirector">A-Z by director</option>
    <option value="numberYear">By release year</option>
  </select>
  <button id="submit">Submit</button>
  <p id="resultsNumber"></p>
  <p id="resultsBox"></p>
  <button id="showMore">Show More</button>
  <button id="showAll">Show All</button>
  <div id="movieDetails">
    <h2>Movie Details</h2>
    <img id="poster" src="" alt="Movie Poster">
    <h3 id="movieTitle"></h3>
    <p id="movieOverview"></p>
  </div>
  <script>
  
  const movies = [
  {
    title: "Enter the Dragon",
    director: "Robert Clouse",
    year: 1973,
    genre: "Action",
    language: "English",
    movieId: 9461
  },
  {
    title: "Dirty Harry",
    director: "Don Siegel",
    year: 1971,
    genre: "Action",
    language: "English",
    movieId: 984
  },
  {
    title: "Die Hard",
    director: "John McTiernan",
    year: 1988,
    genre: "Action",
    language: "English",
    movieId: 562
  },
  {
    title: "Indiana Jones and the Last Crusade",
    director: "Steven Spielberg",
    year: 1989,
    genre: "Action",
    language: "English",
    movieId: 89
  },
  {
        title: "Terminator 2: Judgment Day",
        director: "James Cameron",
        year: 1991,
        genre: "Action",
        language: "English",
        movieId: 280
      },
      {
        title: "Speed",
        director: "Jan de Bont",
        year: 1994,
        genre: "Action",
        language: "English",
        movieId: 1637
      },
      {
        title: "The Dark Knight",
        director: "Christopher Nolan",
        year: 2008,
        genre: "Action",
        language: "English",
        movieId: 155
      },
      {
        title: "Gladiator",
        director: "Ridley Scott",
        year: 2000,
        genre: "Action",
        language: "English",
        movieId: 98
      },
      {
        title: "Mad Max: Fury Road",
        director: "George Miller",
        year: 2015,
        genre: "Action",
        language: "English",
        movieId: 76341
      },
      {
        title: "John Wick",
        director: "Chad Stahelski",
        year: 2014,
        genre: "Action",
        language: "English",
        movieId: 245891
      },
      {
        title: "El perro",
        director: "Antonio Isasi-Isasmendi",
        year: 1977,
        genre: "Acción",
        language: "Spanish",
        movieId: 89958
      },
      {
        title: "Perros callejeros",
        director: "José Antonio de la Loma",
        year: 1977,
        genre: "Acción",
        language: "Spanish",
        movieId: 47050
      },
      {
        title: "Bajarse al moro",
        director: "Fernando Colomo",
        year: 1989,
        genre: "Acción",
        language: "Spanish",
        movieId: 149459
      },
      {
        title: "El día de la bestia",
        director: "Álex de la Iglesia",
        year: 1995,
        genre: "Acción",
        language: "Spanish",
        movieId: 10722
      },
      {
        title: "Celda 211",
        director: "Daniel Monzón",
        year: 2009,
        genre: "Acción",
        language: "Spanish",
        movieId: 33273
      },
      {
        title: "Los cronocrímenes",
        director: "Nacho Vigalondo",
        year: 2007,
        genre: "Acción",
        language: "Spanish",
        movieId: 14139
      },
      {
        title: "Que Dios nos perdone",
        director: "Rodrigo Sorogoyen",
        year: 2016,
        genre: "Acción",
        language: "Spanish",
        movieId: 394684
      },
      {
        title: "Secuestro",
        director: "Mar Targarona",
        year: 2016,
        genre: "Acción",
        language: "Spanish",
        movieId: 403509
      },
      {
        title: "Le Cercle Rouge",
        director: "Jean-Pierre Melville",
        year: 1970,
        genre: "Action",
        language: "French",
        movieId: 11657
      },
      {
        title: "The Getaway",
        director: "Sam Peckinpah",
        year: 1972,
        genre: "Action",
        language: "French",
        movieId: 5916
      },
      {
        title: "The Big Blue (Le Grand Bleu)",
        director: "Luc Besson",
        year: 1988,
        genre: "Action",
        language: "French",
        movieId: 175
      },
      {
        title: "La Guerre des Tuques (The Dog Who Stopped the War)",
        director: "André Melançon",
        year: 1984,
        genre: "Action",
        language: "French",
        movieId: 37168
      },
      {
        title: "Léon: The Professional",
        director: "Luc Besson",
        year: 1994,
        genre: "Action",
        language: "French",
        movieId: 101
      },
      {
        title: "Tell No One",
        director: "Guillaume Canet",
        year: 2006,
        genre: "Action",
        language: "French",
        movieId: 10795
      },
      {
        title: "The Intouchables",
        director: "Olivier Nakache, Éric Toledano",
        year: 2011,
        genre: "Action",
        language: "French",
        movieId: 77338
      },
      {
        title: "Raw",
        director: "Julia Ducournau",
        year: 2016,
        genre: "Action",
        language: "French",
        movieId: 393519
      },
      {
        title: "The Street Fighter",
        director: "Shigehiro Ozawa",
        year: 1974,
        genre: "Action",
        language: "Japanese",
        movieId: 40810
      },
      {
        title: "Lone Wolf and Cub: Sword of Vengeance",
        director: "Kenji Misumi",
        year: 1972,
        genre: "Action",
        language: "Japanese",
        movieId: 41471
      },
      {
        title: "Princess Mononoke",
        director: "Hayao Miyazaki",
        year: 1997,
        genre: "Action",
        language: "Japanese",
        movieId: 128
      },
      {
        title: "Gonin",
        director: "Takashi Ishii",
        year: 1995,
        genre: "Action",
        language: "Japanese",
        movieId: 26830
      },
      {
        title: "Battle Royale",
        director: "Kinji Fukasaku",
        year: 2000,
        genre: "Action",
        language: "Japanese",
        movieId: 3176
      },
      {
        title: "Azumi",
        director: "Ryuhei Kitamura",
        year: 2003,
        genre: "Action",
        language: "Japanese",
        movieId: 5889
      },
      {
        title: "Shin Godzilla",
        director: "Hideaki Anno, Shinji Higuchi",
        year: 2016,
        genre: "Action",
        language: "Japanese",
        movieId: 315011
      },
      {
        title: "One Cut of the Dead",
        director: "Shinichiro Ueda",
        year: 2017,
        genre: "Action",
        language: "Japanese",
        movieId: 513434
      },
      {
        title: "Monty Python and the Holy Grail",
        director: "Terry Gilliam, Terry Jones",
        year: 1975,
        genre: "Comedy",
        language: "English",
        movieId: 762
      },
      {
        title: "Animal House",
        director: "John Landis",
        year: 1978,
        genre: "Comedy",
        language: "English",
        movieId: 8469
      },
      {
        title: "Ferris Bueller's Day Off",
        director: "John Hughes",
        year: 1986,
        genre: "Comedy",
        language: "English",
        movieId: 9377
      },
      {
        title: "The Princess Bride",
        director: "Rob Reiner",
        year: 1987,
        genre: "Comedy",
        language: "English",
        movieId: 2493
      },
      {
        title: "Dumb and Dumber",
        director: "Peter Farrelly, Bobby Farrelly",
        year: 1994,
        genre: "Comedy",
        language: "English",
        movieId: 8467
      },
      {
        title: "Office Space",
        director: "Mike Judge",
        year: 1999,
        genre: "Comedy",
        language: "English",
        movieId: 1542
      },
      {
        title: "Anchorman: The Legend of Ron Burgundy",
        director: "Adam McKay",
        year: 2004,
        genre: "Comedy",
        language: "English",
        movieId: 8699
      },
      {
        title: "Superbad",
        director: "Greg Mottola",
        year: 2007,
        genre: "Comedy",
        language: "English",
        movieId: 8363
      },
      {
        title: "The Grand Budapest Hotel",
        director: "Wes Anderson",
        year: 2014,
        genre: "Comedy",
        language: "English",
        movieId: 120467
      },
      {
        title: "Jojo Rabbit",
        director: "Taika Waititi",
        year: 2019,
        genre: "Comedy",
        language: "English",
        movieId: 515001
      },
      {
        title: "Mujeres al borde de un ataque de nervios",
        director: "Pedro Almodóvar",
        year: 1988,
        genre: "Comedy",
        language: "Spanish",
        movieId: 4203
      },
      {
        title: "El día de la bestia",
        director: "Álex de la Iglesia",
        year: 1995,
        genre: "Comedy",
        language: "Spanish",
        movieId: 10722
      },
      {
        title: "Torrente, el brazo tonto de la ley",
        director: "Santiago Segura",
        year: 1998,
        genre: "Comedy",
        language: "Spanish",
        movieId: 1283
      },
      {
        title: "Airbag",
        director: "Juanma Bajo Ulloa",
        year: 1997,
        genre: "Comedy",
        language: "Spanish",
        movieId: 21700
      },
      {
        title: "Ocho apellidos vascos",
        director: "Emilio Martínez-Lázaro",
        year: 2014,
        genre: "Comedy",
        language: "Spanish",
        movieId: 236737
      },
      {
        title: "La llamada",
        director: "Javier Ambrossi, Javier Calvo",
        year: 2017,
        genre: "Comedy",
        language: "Spanish",
        movieId: 426338
      },
      {
        title: "La escopeta nacional",
        director: "Luis García Berlanga",
        year: 1978,
        genre: "Comedy",
        language: "Spanish",
        movieId: 116312
      },
      {
        title: "Tamaño natural",
        director: "Luis García Berlanga",
        year: 1973,
        genre: "Comedy",
        language: "Spanish",
        movieId: 105416
      },
      {
        title: "El otro lado de la cama",
        director: "Emilio Martínez-Lázaro",
        year: 2002,
        genre: "Comedy",
        language: "Spanish",
        movieId: 2722
      },
      {
        title: "Los cronocrímenes",
        director: "Nacho Vigalondo",
        year: 2007,
        genre: "Comedy",
        language: "Spanish",
        movieId: 14139
      },
      {
        title: "Three Men and a Cradle (Trois hommes et un couffin)",
        director: "Coline Serreau",
        year: 1985,
        genre: "Comedy",
        language: "French",
        movieId: 4180
      },
      {
        title: "La Boum",
        director: "Claude Pinoteau",
        year: 1980,
        genre: "Comedy",
        language: "French",
        movieId: 166
      },
      {
        title: "Les Aventures de Rabbi Jacob",
        director: "Gérard Oury",
        year: 1973,
        genre: "Comedy",
        language: "French",
        movieId: 760
      },
      {
        title: "Cousin, Cousine",
        director: "Jean-Charles Tacchella",
        year: 1975,
        genre: "Comedy",
        language: "French",
        movieId: 5618
      },
      {
        title: "Le Dîner de Cons",
        director: "Francis Veber",
        year: 1998,
        genre: "Comedy",
        language: "French",
        movieId: 9421
      },
      {
        title: "Amélie",
        director: "Jean-Pierre Jeunet",
        year: 2001,
        genre: "Comedy",
        language: "French",
        movieId: 194
      },
      {
        title: "Bienvenue chez les Ch'tis",
        director: "Dany Boon",
        year: 2008,
        genre: "Comedy",
        language: "French",
        movieId: 8265
      },
      {
        title: "Tampopo",
        director: "Juzo Itami",
        year: 1985,
        genre: "Comedy",
        language: "Japanese",
        movieId: 11830
      },
      {
        title: "Departures (Okuribito)",
        director: "Yojiro Takita",
        year: 2008,
        genre: "Comedy",
        language: "Japanese",
        movieId: 16804
      },
      {
        title: "Hula Girls",
        director: "Sang-il Lee",
        year: 2006,
        genre: "Comedy",
        language: "Japanese",
        movieId: 38305
      },
      {
        title: "One Cut of the Dead (Kamera o Tomeru na!)",
        director: "Shinichiro Ueda",
        year: 2017,
        genre: "Comedy",
        language: "Japanese",
        movieId: 513434
      },
      {
        title: "The Devil's Path (Kyoaku)",
        director: "Kazuya Shiraishi",
        year: 2013,
        genre: "Comedy",
        language: "Japanese",
        movieId: 253775
      },
      {
        title: "Tora-san's Dear Old Home (Otoko wa Tsurai yo)",
        director: "Yoji Yamada",
        year: 1972,
        genre: "Comedy",
        language: "Japanese",
        movieId: 253850
      },
      {
        title: "Shall We Dance? (Shall we dansu?)",
        director: "Masayuki Suo",
        year: 1996,
        genre: "Comedy",
        language: "Japanese",
        movieId: 11239
      },
      {
        title: "Kids Return",
        director: "Takeshi Kitano",
        year: 1996,
        genre: "Comedy",
        language: "Japanese",
        movieId: 27233
      },
      {
        title: "House (Hausu)",
        director: "Nobuhiko Obayashi",
        year: 1977,
        genre: "Comedy",
        language: "Japanese",
        movieId: 25623
      },
      {
        title: "One Flew Over the Cuckoo's Nest",
        director: "Milos Forman",
        year: 1975,
        genre: "Drama",
        language: "English",
        movieId: 510
      },
      {
        title: "Taxi Driver",
        director: "Martin Scorsese",
        year: 1976,
        genre: "Drama",
        language: "English",
        movieId: 103
      },
      {
        title: "The Breakfast Club",
        director: "John Hughes",
        year: 1985,
        genre: "Drama",
        language: "English",
        movieId: 2108
      },
      {
        title: "Dead Poets Society",
        director: "Peter Weir",
        year: 1989,
        genre: "Drama",
        language: "English",
        movieId: 207
      },
      {
        title: "Forrest Gump",
        director: "Robert Zemeckis",
        year: 1994,
        genre: "Drama",
        language: "English",
        movieId: 13
      },
      {
        title: "American Beauty",
        director: "Sam Mendes",
        year: 1999,
        genre: "Drama",
        language: "English",
        movieId: 14
      },
      {
        title: "A Beautiful Mind",
        director: "Ron Howard",
        year: 2001,
        genre: "Drama",
        language: "English",
        movieId: 453
      },
      {
        title: "Requiem for a Dream",
        director: "Darren Aronofsky",
        year: 2000,
        genre: "Drama",
        language: "English",
        movieId: 641
      },
      {
        title: "The Social Network",
        director: "David Fincher",
        year: 2010,
        genre: "Drama",
        language: "English",
        movieId: 37799
      },
      {
        title: "Manchester by the Sea",
        director: "Kenneth Lonergan",
        year: 2016,
        genre: "Drama",
        language: "English",
        movieId: 334541
      },
      {
        title: "The Spirit of the Beehive (El espíritu de la colmena)",
        director: "Víctor Erice",
        year: 1973,
        genre: "Drama",
        language: "Spanish",
        movieId: 4495
      },
      {
        title: "Women on the Verge of a Nervous Breakdown (Mujeres al borde de un ataque de nervios)",
        director: "Pedro Almodóvar",
        year: 1988,
        genre: "Drama",
        language: "Spanish",
        movieId: 4203
      },
      {
        title: "All About My Mother (Todo sobre mi madre)",
        director: "Pedro Almodóvar",
        year: 1999,
        genre: "Drama",
        language: "Spanish",
        movieId: 99
      },
      {
        title: "Open Your Eyes (Abre los ojos)",
        director: "Alejandro Amenábar",
        year: 1997,
        genre: "Drama",
        language: "Spanish",
        movieId: 1902
      },
      {
        title: "The Sea Inside (Mar adentro)",
        director: "Alejandro Amenábar",
        year: 2004,
        genre: "Drama",
        language: "Spanish",
        movieId: 1913
      },
      {
        title: "Talk to Her (Hable con ella)",
        director: "Pedro Almodóvar",
        year: 2002,
        genre: "Drama",
        language: "Spanish",
        movieId: 64
      },
      {
        title: "Parallel Mothers (Madres paralelas)",
        director: "Pedro Almodóvar",
        year: 2021,
        genre: "Drama",
        language: "Spanish",
        movieId: 766798
      },
      {
        title: "The Platform (El Hoyo)",
        director: "Galder Gaztelu-Urrutia",
        year: 2019,
        genre: "Drama",
        language: "Spanish",
        movieId: 619264
      },
      {
        title: "The Discreet Charm of the Bourgeoisie (Le Charme discret de la bourgeoisie)",
        director: "Luis Buñuel",
        year: 1972,
        genre: "Drama",
        language: "French",
        movieId: 4593
      },
      {
        title: "Get Out Your Handkerchiefs (Préparez vos mouchoirs)",
        director: "Bertrand Blier",
        year: 1978,
        genre: "Drama",
        language: "French",
        movieId: 4267
      },
      {
        title: "The Last Metro (Le Dernier Métro)",
        director: "François Truffaut",
        year: 1980,
        genre: "Drama",
        language: "French",
        movieId: 1716
      },
      {
        title: "Cinema Paradiso (Nuovo Cinema Paradiso)",
        director: "Giuseppe Tornatore",
        year: 1988,
        genre: "Drama",
        language: "Italian",
        movieId: 11216
      },
      {
        title: "La Haine",
        director: "Mathieu Kassovitz",
        year: 1995,
        genre: "Drama",
        language: "French",
        movieId: 406
      },
      {
        title: "The Dreamlife of Angels (La Vie rêvée des anges)",
        director: "Érick Zonca",
        year: 1998,
        genre: "Drama",
        language: "French",
        movieId: 9840
      },
      {
        title: "The Class (Entre les murs)",
        director: "Laurent Cantet",
        year: 2008,
        genre: "Drama",
        language: "French",
        movieId: 8841
      },
      {
        title: "The Diving Bell and the Butterfly (Le Scaphandre et le Papillon)",
        director: "Julian Schnabel",
        year: 2007,
        genre: "Drama",
        language: "French",
        movieId: 2013
      },
      {
        title: "Blue Is the Warmest Colour (La Vie d'Adèle)",
        director: "Abdellatif Kechiche",
        year: 2013,
        genre: "Drama",
        language: "French",
        movieId: 152584
      },
      {
        title: "Amour",
        director: "Michael Haneke",
        year: 2012,
        genre: "Drama",
        language: "French",
        movieId: 86837
      },
      {
        title: "Tampopo",
        director: "Juzo Itami",
        year: 1985,
        genre: "Drama",
        language: "Japanese",
        movieId: 11830
      },
      {
        title: "My Neighbor Totoro (Tonari no Totoro)",
        director: "Hayao Miyazaki",
        year: 1988,
        genre: "Drama",
        language: "Japanese",
        movieId: 8392
      },
      {
        title: "Hana-bi",
        director: "Takeshi Kitano",
        year: 1997,
        genre: "Drama",
        language: "Japanese",
        movieId: 5910
      },
      {
        title: "Departures (Okuribito)",
        director: "Yojiro Takita",
        year: 2008,
        genre: "Drama",
        language: "Japanese",
        movieId: 8040
      },
      {
        title: "Shoplifters (Manbiki Kazoku)",
        director: "Hirokazu Kore-eda",
        year: 2018,
        genre: "Drama",
        language: "Japanese",
        movieId: 505192
      },
      {
        title: "Your Name (Kimi no Na wa)",
        director: "Makoto Shinkai",
        year: 2016,
        genre: "Drama",
        language: "Japanese",
        movieId: 372058
      },
      {
        title: "In the Realm of the Senses (Ai no corrida)",
        director: "Nagisa Oshima",
        year: 1976,
        genre: "Drama",
        language: "Japanese",
        movieId: 5879
      },
      {
        title: "Pastoral: To Die in the Country (Den-en ni shisu)",
        director: "Shūji Terayama",
        year: 1974,
        genre: "Drama",
        language: "Japanese",
        movieId: 104251
      },
      {
        title: "Star Wars: Episode IV - A New Hope",
        director: "George Lucas",
        year: 1977,
        genre: "Science Fiction",
        language: "English",
        movieId: 11
      },
      {
        title: "A Clockwork Orange",
        director: "Stanley Kubrick",
        year: 1971,
        genre: "Science Fiction",
        language: "English",
        movieId: 185
      },
      {
        title: "Blade Runner",
        director: "Ridley Scott",
        year: 1982,
        genre: "Science Fiction",
        language: "English",
        movieId: 78
      },
      {
        title: "The Terminator",
        director: "James Cameron",
        year: 1984,
        genre: "Science Fiction",
        language: "English",
        movieId: 218
      },
      {
        title: "The Matrix",
        director: "The Wachowskis",
        year: 1999,
        genre: "Science Fiction",
        language: "English",
        movieId: 603
      },
      {
        title: "Gattaca",
        director: "Andrew Niccol",
        year: 1997,
        genre: "Science Fiction",
        language: "English",
        movieId: 782
      },
      {
        title: "Interstellar",
        director: "Christopher Nolan",
        year: 2014,
        genre: "Science Fiction",
        language: "English",
        movieId: 157336
      },
      {
        title: "Ex Machina",
        director: "Alex Garland",
        year: 2014,
        genre: "Science Fiction",
        language: "English",
        movieId: 264660
      },
      {
        title: "Minority Report",
        director: "Steven Spielberg",
        year: 2002,
        genre: "Science Fiction",
        language: "English",
        movieId: 180
      },
      {
        title: "Children of Men",
        director: "Alfonso Cuarón",
        year: 2006,
        genre: "Science Fiction",
        language: "English",
        movieId: 9693
      },
      {
        title: "The Holy Mountain (La montaña sagrada)",
        director: "Alejandro Jodorowsky",
        year: 1973,
        genre: "Science Fiction",
        language: "Spanish",
        movieId: 8327
      },
      {
        title: "Alucarda",
        director: "Juan López Moctezuma",
        year: 1977,
        genre: "Science Fiction",
        language: "Spanish",
        movieId: 40074
      },
      {
        title: "The Platform (El Hoyo)",
        director: "Galder Gaztelu-Urrutia",
        year: 2019,
        genre: "Science Fiction",
        language: "Spanish",
        movieId: 619264
      },
      {
        title: "Chronicle of an Escape (Crónica de una fuga)",
        director: "Adrián Caetano",
        year: 2006,
        genre: "Science Fiction",
        language: "Spanish",
        movieId: 25532
      },
      {
        title: "La Planète sauvage (Fantastic Planet)",
        director: "René Laloux",
        year: 1973,
        genre: "Science Fiction",
        language: "French",
        movieId: 16306
      },
      {
        title: "Je t'aime moi non plus",
        director: "Serge Gainsbourg",
        year: 1976,
        genre: "Science Fiction",
        language: "French",
        movieId: 4580
      },
      {
        title: "The City of Lost Children (La Cité des enfants perdus)",
        director: "Marc Caro, Jean-Pierre Jeunet",
        year: 1995,
        genre: "Science Fiction",
        language: "French",
        movieId: 902
      },
      {
        title: "Innocence",
        director: "Lucile Hadžihalilović",
        year: 2004,
        genre: "Science Fiction",
        language: "French",
        movieId: 33623
      },
      {
        title: "Demonlover",
        director: "Olivier Assayas",
        year: 2002,
        genre: "Science Fiction",
        language: "French",
        movieId: 24488
      },
      {
        title: "La revanche des humanoides (The Revenge of the Humanoids)",
        director: "Aldo Lado",
        year: 1983,
        genre: "Science Fiction",
        language: "French",
        movieId: 163867
      },
      {
        title: "Gwendoline",
        director: "Just Jaeckin",
        year: 1984,
        genre: "Science Fiction",
        language: "French",
        movieId: 19400
      },
      {
        title: "The Wild Boys (Les garçons sauvages)",
        director: "Bertrand Mandico",
        year: 2017,
        genre: "Science Fiction",
        language: "French",
        movieId: 474444
      },
      {
        title: "Mandibles (Mandibules)",
        director: "Quentin Dupieux",
        year: 2020,
        genre: "Science Fiction",
        language: "French",
        movieId: 638965
      },
      {
        title: "Akira",
        director: "Katsuhiro Otomo",
        year: 1988,
        genre: "Science Fiction",
        language: "Japanese",
        movieId: 149
      },
      {
        title: "Tetsuo: The Iron Man",
        director: "Shinya Tsukamoto",
        year: 1989,
        genre: "Science Fiction",
        language: "Japanese",
        movieId: 41428
      },
      {
        title: "Ghost in the Shell (Kōkaku Kidōtai)",
        director: "Mamoru Oshii",
        year: 1995,
        genre: "Science Fiction",
        language: "Japanese",
        movieId: 9323
      },
      {
        title: "Perfect Blue",
        director: "Satoshi Kon",
        year: 1997,
        genre: "Science Fiction",
        language: "Japanese",
        movieId: 10494
      },
      {
        title: "Paprika",
        director: "Satoshi Kon",
        year: 2006,
        genre: "Science Fiction",
        language: "Japanese",
        movieId: 4977
      },
      {
        title: "The War in Space (Wakusei Daisensō)",
        director: "Jun Fukuda",
        year: 1977,
        genre: "Science Fiction",
        language: "Japanese",
        movieId: 38268
      },
      {
        title: "Summer Wars",
        director: "Mamoru Hosoda",
        year: 2009,
        genre: "Science Fiction",
        language: "Japanese",
        movieId: 28874
      },
      {
        title: "Time Traveller: The Girl Who Leapt Through Time",
        director: "Masaaki Taniguchi",
        year: 2010,
        genre: "Science Fiction",
        language: "Japanese",
        movieId: 54770
      },
      {
        title: "Time of Eve (Eve no Jikan)",
        director: "Yasuhiro Yoshiura",
        year: 2010,
        genre: "Science Fiction",
        language: "Japanese",
        movieId: 234284
      },
    ];






//remove duplicate listings
function removeDuplicateObjects(arr, property) {
      const uniqueMap = new Map();
      const uniqueArray = [];

      for (const movie of arr) {
        if (!uniqueMap.has(movie[property])) {
          uniqueMap.set(movie[property], true);
          uniqueArray.push(movie);
        }
      }
      arr.length = 0; // Clear the original array
      for (const movie of uniqueArray) {
        arr.push(movie);
      }
    }
    
    removeDuplicateObjects(movies, 'title');



    //switch up array format
    for (let i = 0; i < movies.length; i++) {
      if (movies[i].genre === "Acción") {
        movies[i].genre === "Action"
      }
      movies[i].genre = movies[i].genre.toLowerCase();
      movies[i].language = movies[i].language.toLowerCase();
      movies[i].year = movies[i].year.toString()
      movies[i].decade = movies[i].year.slice(0, -1) + `0's`
    }

    //
    //DOMS
    const genreDropdown = document.getElementById("genre");
    const yearDropdown = document.getElementById("year");
    const languageDropdown = document.getElementById("language");
    const submitButton = document.getElementById("submit");
    const resultsText = document.getElementById("resultsBox");
    const showMoreButton = document.getElementById("showMore");
    const showAllButton = document.getElementById("showAll")
    const searchResultsNumber = document.getElementById("resultsNumber")
    const sortDropdown = document.getElementById("orderOption")
    const randomButton = document.getElementById('randomise')
    const apiResults = document.getElementById('movieDetails')

    function hideElement(element) {
      element.style.display = 'none'
    }

    function showelement(element) {
      element.style.display = 'block';
    }

    hideElement(showMoreButton)
    hideElement(showAllButton)
    hideElement(apiResults)

    let searchResults = []; // Store search results
    let itemsToShow = 1;
    let currentEndIndex = itemsToShow;



    function randomizeIndexesInPlace(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
  }
   
  function getMovieInfo(movieIdNumber) {
      const tmdbBaseUrl = "https://api.themoviedb.org/3/";
    const apiKey = '0db2b210052ac2389b97a0d37eb57c9b'; // Replace with your TMDb API key
    const movieId = movieIdNumber;
   async function fetchMovieDetails() {
      const language = 'en-US'; // Change as needed

      const url = `${tmdbBaseUrl}movie/${movieId}?api_key=${apiKey}&language=${language}`;

      try {
        const response = await fetch(url);
        const data = await response.json();

        // Update movie details on the webpage
        const posterPath = data.poster_path ? `https://image.tmdb.org/t/p/w500/${data.poster_path}` : '';
        const movieTitle = data.title || 'Movie Title';
        const movieOverview = data.overview || 'Movie overview not available.';

        document.getElementById('poster').src = posterPath;
        document.getElementById('movieTitle').textContent = movieTitle;
        document.getElementById('movieOverview').textContent = movieOverview;

        // Show movie details section
        document.getElementById('movieDetails').style.display = 'block';
      } catch (error) {
        console.error('Error fetching movie details:', error);
      }
    }

    // Fetch and display movie details from TMDb
    fetchMovieDetails();
    }


    //submit button click
    submitButton.addEventListener("click", () => {
      searchResultsNumber.style.display = 'block';
      hideElement(apiResults)

      const selectedGenre = genreDropdown.value;
      const selectedYear = yearDropdown.value;
      const selectedLanguage = languageDropdown.value;
      if (selectedGenre === "" && selectedYear === "" && selectedLanguage === "") { //making a default value if nithing is selected
        resultsText.textContent = 'Please make at least one selection.';
        searchResults.style.display = 'none'
        hideElement(showMoreButton)
        hideElement(showAllButton)
        return;
      }
      const selectedOrder = sortDropdown.value;
      if (selectedOrder === 'azTitle') {
        movies.sort((a, b) => a.title.localeCompare(b.title));
      } else if (selectedOrder === 'azDirector') {
        movies.sort((a, b) => a.director.localeCompare(b.director));
      } else if (selectedOrder === 'numberYear') {
        movies.sort((a, b) => a.year - b.year);
      } else if (selectedOrder === 'default'){
        randomizeIndexesInPlace(movies);
      }
      const filteredMovies = movies.filter(movie => {
        const genreMatch = selectedGenre === "" || movie.genre === selectedGenre;
        const yearMatch = selectedYear === "" || movie.decade === selectedYear;
        const languageMatch = selectedLanguage === "" || movie.language === selectedLanguage;
        return genreMatch && yearMatch && languageMatch;
      });
      searchResults = filteredMovies.map(movie => ({
        title: movie.title,
  director: movie.director,
  year: movie.year,
  movieId: movie.movieId
}));
      itemsToShow = 1; // Reset itemsToShow to default value after every search
      currentEndIndex = itemsToShow; // Reset the currentEndIndex as well
      displayResults(searchResults, itemsToShow);
      if (searchResults.length <= itemsToShow) {
        hideElement(showMoreButton)
        hideElement(showAllButton)
      } else {
        showelement(showMoreButton)
        showelement(showAllButton)
      }
    });

    function displayResults(results, endIndex) {
  if (results.length === 1) {
    searchResultsNumber.textContent = `Search results ${results.length} film:`;
  } else {
    searchResultsNumber.textContent = `Search results ${results.length} films:`;
  }
  if (results.length >= 1) {
    showelement(showMoreButton)
    showelement(showAllButton)
  } else {
    hideElement(showMoreButton)
  }
  resultsText.innerHTML = "";

  for (let i = 0; i < endIndex && i < results.length; i++) {
    const resultElement = document.createElement("p");
    resultElement.textContent = `${results[i].title}, directed by ${results[i].director}, ${results[i].year}`;
    resultsText.appendChild(resultElement);

    const movieInfoButton = document.createElement("button");
    movieInfoButton.textContent = 'want more movie info?';
    movieInfoButton.id = 'moreMovieInfo';

    movieInfoButton.addEventListener('click', () => {
      console.log('Movie info button clicked!');
      console.log('Movie ID:', results[i].movieId); // Access the movieId from the results array
      getMovieInfo(results[i].movieId); // Pass the correct movieId to getMovieInfo
      //hideElement(movieInfoButton)
    });

    resultElement.appendChild(movieInfoButton);
  }
}

    //show all buttons
    showAllButton.addEventListener("click", () => {
      itemsToShow = searchResults.length;
      currentEndIndex += itemsToShow;
      displayResults(searchResults, currentEndIndex);
      hideElement(showMoreButton)
      hideElement(showAllButton)
    });

    //show more button
    showMoreButton.addEventListener("click", () => {
      currentEndIndex += itemsToShow; // Increase the end index with the amount being shown at a time
      displayResults(searchResults, currentEndIndex);
      if (currentEndIndex >= searchResults.length) {
        hideElement(showMoreButton)
        hideElement(showAllButton)
      }
    });
    //randomise button

    randomButton.addEventListener('click', function() {
      searchResultsNumber.style.display = 'none'
      hideElement(showMoreButton)
      hideElement(showAllButton)
      hideElement(apiResults);

      function randomMovie(film) {
        const randomiseSelection = film[Math.floor(Math.random() * film.length)];
        return `${randomiseSelection.title}, ${randomiseSelection.year}. Directed by ${randomiseSelection.director}.`;
      }
      resultsText.textContent = randomMovie(movies)

      const randomMovieInfoButton = document.createElement("button");
      randomMovieInfoButton.textContent = 'want more movie info?'
      randomMovieInfoButton.id = 'randomMovieInfo'; 
      
      randomMovieInfoButton.addEventListener('click', () => {
        console.log('Movie info button clicked!');
        console.log('Movie ID:', randomMovie(movies).movieId);
        for (let i = 0; i < movies.length; i++) {
          if (resultsText.textContent.includes(movies[i].title) && resultsText.textContent.includes(movies[i].director)) {
            getMovieInfo(movies[i].movieId)
            showelement(apiResults)
            hideElement(randomMovieInfoButton)
          }
        }
      });
      resultsText.appendChild(randomMovieInfoButton);
    })
  </script>
</body>
</html>